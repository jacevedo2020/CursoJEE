<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
    </h:head>
    <h:body>
        <h:form id="form1">
            <p:panel>
                <f:facet name="header">
                    <center>
                        <h:outputLabel value="Cambiar Password"/>
                    </center>
                </f:facet>
                <center>
                    <p:panel>

                        <h:panelGrid rendered="#{!changePasswordBean.claveCambiada}">
                            <h:panelGrid columns="3" cellpadding="6" cellspacing="2" style="max-width: 550px">
                                <p:outputLabel for="pwd1" 
                                               value="Nuevo Password" />  
                                <p:password id="pwd1" 
                                            value="#{changePasswordBean.password}" 
                                            match="pwd2"
                                            required="true"
                                            size="10"
                                            >
                                </p:password>  
                                <p:message for="pwd1"/>

                                <p:outputLabel for="pwd2" value="Confirmar Nuevo Password:" />  
                                <p:password id="pwd2" value="#{changePasswordBean.password}" 
                                            size="10"
                                            required="true"
                                            validatorMessage="Error: Las contrase침as no coinciden."
                                            />  
                                <p:message for="pwd2"/>
                            </h:panelGrid>
                            <br/>
                            <p:separator/>
                            <h:panelGrid style="width: 100%" columns="2">
                                <p:commandButton update="form1"  
                                                 value="Grabar" 
                                                 style="float: right"
                                                 action="#{changePasswordBean.cambiarContrasenia()}"/>
                                <p:button value="Cancelar" outcome="/login.xhtml"/>
                            </h:panelGrid>
                        </h:panelGrid>

                        <h:panelGrid rendered="#{changePasswordBean.claveCambiada}" style="width: 100%;" columnClasses="centrado">
                            <h:outputLabel value="Contrase침a cambiada exitosamente." style="color: #247ba5"/>
                            <br/>   
                            <h:outputLabel value="Por favor pulsar el bot칩n Inicio para direccionar a la p치gina de ingreso al sistema."/>
                            <br/>
                            <p:button value="Inicio" outcome="/login.xhtml"></p:button>
                        </h:panelGrid>
                    </p:panel>

                </center>


            </p:panel>     

        </h:form>
    </h:body>
</html>
